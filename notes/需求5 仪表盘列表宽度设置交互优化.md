---
title: 需求5 仪表盘列表宽度设置交互优化
created: '2024-05-31T07:31:49.159Z'
modified: '2024-06-27T05:57:27.021Z'
---

# 需求5 仪表盘列表宽度设置交互优化

1. 列表宽度自动列宽逻辑修改，根据文本最小值确定列的最短宽度，为了让大多数文字能完整展示，同时不会由于个别文字过长，导致表格宽度过长。目前确认的方案如下：
长文本：数据中长度前百分之二十的长数据
短文本：数据中剔除长度为前百分之二十文本（前20%长文本）剩余的数据。
最短限制：列表头宽度
最长限制: 列表头宽度的两倍（且不得小于12个文本占位，小于取12）
自动列宽实际宽度：自适应短文本长度（短文本的最长值）且在最短最长限制以内（实际宽度大于最短取最短，实际长度大于最长取最长）


优缺点：
固定自动列宽：间隔小，但是不适应容器大小，缺点是：可能会在不同平台上出现内容遮挡的情况，并且由于预览和实际展示容器大小不一致可能导致难以调整，且不能兼容之前的版本。

百分比调整自动列宽：按照容器大小和文字内容做自适应，可能会存在少量情况存在间隔问题，优点是自适应容器大小，在各种情况下都不会出现内容遮挡的情况。


2. 表格手动列宽不生效问题，在操作表格调整列宽时会更新custom_attr.column.index列表中对应id的宽度比例。在预览界面可以得到后台返回的indexList中的id做对应的匹配和查询。但是在发布之后，indexList中的id出现问题，疑似是重新生成的id。
